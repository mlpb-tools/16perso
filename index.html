<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Profil Pro - LS4YOU</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Palette Life Skills */
            --red: #FF1766;
            --orange: #FF9F1C;
            --yellow: #FFD166;
            --green: #7CB342;
            --blue: #2196F3;
            --turquoise: #4DD4D4;
            --pink: #FF5C8D;
            --purple: #8B4789;
            --white: #ffffff;
            --text-dark: #2c3e50;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--white);
            color: var(--text-dark);
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* --- √âl√©ments D√©coratifs (Background) --- */
        .bg-deco {
            position: fixed;
            z-index: -1;
            border-radius: 50%;
        }
        .circle-1 {
            width: 400px; height: 400px;
            background: var(--yellow);
            top: -100px; right: -100px;
            opacity: 0.6;
        }
        .circle-2 {
            width: 300px; height: 300px;
            background: var(--turquoise);
            bottom: -50px; left: -50px;
            opacity: 0.5;
        }
        .circle-3 {
            width: 150px; height: 150px;
            background: var(--pink);
            top: 40%; left: 10%;
            opacity: 0.4;
        }
        
        /* Mini-grilles de points */
        .dot-grid {
            position: fixed;
            z-index: -1;
            width: 100px; height: 100px;
            background-image: radial-gradient(var(--blue) 20%, transparent 20%);
            background-size: 15px 15px;
            opacity: 0.4;
        }
        .dots-tl { top: 120px; left: 20px; }
        .dots-br { bottom: 20px; right: 20px; }

        /* Puzzle d√©coratif (CSS shapes) */
        .puzzle-piece {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px; height: 60px;
            background: var(--turquoise);
            border-radius: 10px;
            z-index: -1;
        }
        .puzzle-piece::before {
            content: ''; position: absolute; top: -15px; left: 20px;
            width: 20px; height: 20px; background: var(--turquoise); border-radius: 50%;
        }
        .puzzle-piece::after {
            content: ''; position: absolute; right: -15px; top: 20px;
            width: 20px; height: 20px; background: var(--turquoise); border-radius: 50%;
        }

        /* --- Header & Logos --- */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 5%;
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(5px);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }
        .logo-ls4you {
            height: 60px;
            max-width: 200px;
            object-fit: contain;
        }
        .logo-mlpb {
            height: 50px;
            max-width: 200px;
            object-fit: contain;
        }

        /* --- Conteneur Principal --- */
        .container {
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            width: 90%;
        }

        /* --- Typographie --- */
        h1 {
            font-weight: 900;
            font-size: 2.5em;
            text-align: center;
            color: var(--red);
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: -1px;
            line-height: 1.1;
        }
        .subtitle {
            text-align: center;
            font-size: 1.2em;
            color: var(--text-dark);
            margin-bottom: 40px;
            font-weight: 400;
        }
        
        /* --- Quiz Cards --- */
        .question-block {
            background: white;
            border-radius: 25px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            border: 2px solid transparent;
            transition: transform 0.3s;
            position: relative;
            overflow: hidden;
        }
        .question-block::before {
            content: '';
            position: absolute;
            top: 0; left: 0;
            width: 8px; height: 100%;
            background: var(--turquoise);
        }
        .question-text {
            font-weight: 700;
            font-size: 1.3em;
            margin-bottom: 25px;
            display: block;
            color: var(--text-dark);
        }

        /* --- Options (Flat Design) --- */
        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        label {
            cursor: pointer;
            padding: 15px 25px;
            background: #f4f7f6;
            border-radius: 50px; /* Capsule */
            font-weight: 600;
            transition: all 0.2s ease;
            border: 2px solid transparent;
            display: flex;
            align-items: center;
            color: #555;
        }
        label:hover {
            background: #eef2f5;
            transform: translateX(5px);
            border-color: var(--yellow);
        }
        /* Style quand s√©lectionn√© (g√©r√© par JS ou CSS sibling) */
        input[type="radio"] {
            appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid var(--text-dark);
            border-radius: 50%;
            margin-right: 15px;
            position: relative;
            flex-shrink: 0;
        }
        input[type="radio"]:checked {
            border-color: var(--red);
            background-color: var(--red);
            box-shadow: inset 0 0 0 4px white;
        }
        input[type="radio"]:checked + span {
            color: var(--red);
        }
        /* Effet visuel sur le label quand input checked */
        label:has(input:checked) {
            background: #fff0f5; /* Light pink background */
            border-color: var(--red);
            color: var(--red);
        }

        /* --- Boutons --- */
        .btn-container {
            text-align: center;
            margin-top: 50px;
            margin-bottom: 50px;
        }
        button {
            background-color: var(--red);
            color: white;
            border: none;
            padding: 18px 50px;
            font-size: 1.2em;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 10px 20px rgba(255, 23, 102, 0.3);
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 25px rgba(255, 23, 102, 0.4);
            background-color: #e01055;
        }

        /* --- Progress Bar --- */
        .progress-container {
            position: fixed;
            top: 100px; /* sous le header */
            left: 0;
            width: 100%;
            height: 6px;
            background: #eee;
            z-index: 90;
        }
        .progress-bar {
            height: 100%;
            background: var(--turquoise);
            width: 0%;
            transition: width 0.3s;
        }

        /* --- R√©sultats --- */
        #results {
            display: none;
            text-align: center;
            background: white;
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        .profile-category {
            display: inline-block;
            background: var(--purple);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 700;
            text-transform: uppercase;
            margin-bottom: 20px;
        }
        .profile-title {
            font-size: 2.8em;
            color: var(--red);
            margin: 10px 0;
            font-weight: 900;
        }
        .profile-icon {
            font-size: 5em;
            margin: 20px 0;
            animation: bounce 2s infinite;
        }
        .profile-desc {
            font-size: 1.3em;
            background: #fdfdfd;
            border: 2px dashed var(--turquoise);
            color: var(--text-dark);
            padding: 30px;
            border-radius: 20px;
            margin-top: 30px;
            line-height: 1.6;
        }

        /* Animations */
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-20px);}
            60% {transform: translateY(-10px);}
        }
        
        /* Confettis CSS (simple) */
        .confetti {
            position: absolute;
            width: 10px; height: 10px;
            background: var(--orange);
            animation: fall linear forwards;
        }

        @media (max-width: 600px) {
            header { flex-direction: column; gap: 10px; }
            h1 { font-size: 2em; }
            .question-text { font-size: 1.1em; }
        }

        .hidden { display: none; }
    </style>
</head>
<body>

    <div class="bg-deco circle-1"></div>
    <div class="bg-deco circle-2"></div>
    <div class="bg-deco circle-3"></div>
    <div class="dot-grid dots-tl"></div>
    <div class="dot-grid dots-br"></div>
    <div class="puzzle-piece"></div>

    <header>
        <img src="https://www.lifeskills4youth.eu/wp-content/uploads/2024/07/LS4YOU_Logo.png" alt="Logo LS4YOU" class="logo-ls4you">
        <img src="https://static.wixstatic.com/media/dd5dab_47743b1c86024865ba19e623a3db327f~mv2.avif/v1/fill/w_224,h_60,al_c,q_80,enc_avif,quality_auto/dd5dab_47743b1c86024865ba19e623a3db327f~mv2.avif" alt="Logo MLPB" class="logo-mlpb">
    </header>

    <div class="progress-container">
        <div class="progress-bar" id="progress-bar"></div>
    </div>

    <div class="container">
        <div id="quiz-header">
            <h1>Mon Profil Pro</h1>
            <p class="subtitle">R√©ponds spontan√©ment √† ces 40 questions pour d√©couvrir tes talents cach√©s.</p>
        </div>

        <form id="quiz-form">
            <div id="questions-container"></div>
            
            <div class="btn-container">
                <button type="button" onclick="calculateResults()">D√©couvrir mon profil</button>
            </div>
        </form>

        <div id="results">
            <div class="profile-category" id="res-category">Cat√©gorie</div>
            <div class="profile-icon" id="res-icon"></div>
            <h2 class="profile-title" id="res-title">Titre du Profil</h2>
            <div class="profile-desc" id="res-desc">
                Description...
            </div>
            <div class="btn-container">
                <button onclick="location.reload()" style="background-color: var(--turquoise);">Refaire le test</button>
            </div>
        </div>
    </div>

    <script>
        // --- DONN√âES DU TEST (40 Questions) ---
        const questions = [
            // E vs I
            { t: "Apr√®s une journ√©e de formation, tu pr√©f√®res :", dim: "EI", opts: ["Sortir voir des potes", "Rentrer te poser au calme"] },
            { t: "Dans un groupe de travail, tu as tendance √† :", dim: "EI", opts: ["Parler et donner ton avis rapidement", "√âcouter d'abord et r√©fl√©chir"] },
            { t: "Si tu as une question pour un employeur, tu pr√©f√®res :", dim: "EI", opts: ["L'appeler directement", "Lui envoyer un mail ou SMS"] },
            { t: "Travailler seul toute la journ√©e :", dim: "EI", opts: ["√áa t'ennuie, tu veux du monde", "√áa te va, tu te concentres mieux"] },
            { t: "Pour rencontrer tes nouveaux coll√®gues :", dim: "EI", opts: ["Tu vas vers eux facilement", "Tu attends qu'ils viennent vers toi"] },
            { t: "Tu te sens plus √† l'aise dans un environnement :", dim: "EI", opts: ["Anim√© avec de l'action", "Calme et silencieux"] },
            { t: "Quand tu as un probl√®me, tu pr√©f√®res :", dim: "EI", opts: ["En discuter tout de suite", "Le r√©soudre seul dans ton coin"] },
            { t: "On dit de toi que tu es :", dim: "EI", opts: ["Sociable et expressif", "R√©serv√© et observateur"] },
            { t: "Le week-end, tu pr√©f√®res :", dim: "EI", opts: ["Avoir plein d'activit√©s", "Improviser tranquillement"] },
            { t: "Tu penses √† haute voix :", dim: "EI", opts: ["Souvent", "Rarement, tu r√©fl√©chis dans ta t√™te"] },

            // S vs N
            { t: "Tu pr√©f√®res un travail o√π :", dim: "SN", opts: ["Les t√¢ches sont concr√®tes", "Tu peux imaginer des solutions"] },
            { t: "Quand on t'explique une mission, tu veux :", dim: "SN", opts: ["Les d√©tails √©tape par √©tape", "Comprendre l'id√©e g√©n√©rale"] },
            { t: "Tu es quelqu'un de plut√¥t :", dim: "SN", opts: ["R√©aliste et pratique", "R√™veur et imaginatif"] },
            { t: "Ce qui t'int√©resse le plus :", dim: "SN", opts: ["Le pr√©sent (maintenant)", "Le futur (ce qui pourrait arriver)"] },
            { t: "Tu fais confiance √† :", dim: "SN", opts: ["Ton exp√©rience / aux faits", "Ton instinct / ton intuition"] },
            { t: "Pour apprendre, tu pr√©f√®res :", dim: "SN", opts: ["Pratiquer tout de suite", "Comprendre la th√©orie d'abord"] },
            { t: "Tu pr√©f√®res les consignes :", dim: "SN", opts: ["Pr√©cises et claires", "Ouvertes et libres"] },
            { t: "Tu aimes les m√©thodes :", dim: "SN", opts: ["Anciennes qui marchent", "Nouvelles et originales"] },
            { t: "Tu remarques souvent :", dim: "SN", opts: ["Les petits d√©tails", "L'ambiance g√©n√©rale"] },
            { t: "Un projet 'faisable' est mieux qu'un projet 'r√©volutionnaire' :", dim: "SN", opts: ["Oui, soyons concrets", "Non, il faut savoir r√™ver"] },

            // T vs F
            { t: "Pour d√©cider, tu te bases sur :", dim: "TF", opts: ["La logique", "Tes sentiments et valeurs"] },
            { t: "Si un coll√®gue fait une erreur, tu pr√©f√®res :", dim: "TF", opts: ["Lui dire franchement", "Lui dire doucement"] },
            { t: "Tu es dou√© pour :", dim: "TF", opts: ["Analyser des probl√®mes", "Comprendre les gens"] },
            { t: "Au travail, le plus important c'est :", dim: "TF", opts: ["L'efficacit√©", "L'ambiance d'√©quipe"] },
            { t: "Tu es convaincu par :", dim: "TF", opts: ["Des preuves et chiffres", "Des histoires et t√©moignages"] },
            { t: "Dans un conflit, tu cherches :", dim: "TF", opts: ["La v√©rit√© (qui a raison)", "L'entente (r√©concilier)"] },
            { t: "On dit que tu es :", dim: "TF", opts: ["Rationnel (t√™te)", "Sensible (c≈ìur)"] },
            { t: "√ätre juste, c'est :", dim: "TF", opts: ["La m√™me r√®gle pour tous", "S'adapter √† chacun"] },
            { t: "Un bon chef est :", dim: "TF", opts: ["Comp√©tent et exigeant", "Sympa et √† l'√©coute"] },
            { t: "C'est dur pour toi de :", dim: "TF", opts: ["Comprendre les √©motions", "Organiser des id√©es complexes"] },

            // J vs P
            { t: "Pour tes rendez-vous, tu es :", dim: "JP", opts: ["Souvent en avance", "Parfois un peu juste"] },
            { t: "Tu pr√©f√®res travailler :", dim: "JP", opts: ["Avec un plan", "Au feeling"] },
            { t: "Quand tu as un projet :", dim: "JP", opts: ["Tu finis bien avant", "Tu finis √† la derni√®re minute"] },
            { t: "Penses-tu possible de laisser ta journ√©e se d√©rouler sans plan ?", dim: "JP", opts: ["Non, j'aime pr√©voir", "Oui, j'aime l'impr√©vu"] },
            { t: "Ton espace est :", dim: "JP", opts: ["Rang√©", "En 'bordel organis√©'"] },
            { t: "Tu d√©cides :", dim: "JP", opts: ["Vite pour passer √† autre chose", "Lentement pour garder le choix"] },
            { t: "Tu te sens mieux quand :", dim: "JP", opts: ["Tout est r√©gl√©", "Tout reste ouvert"] },
            { t: "Tu pr√©f√®res suivre :", dim: "JP", opts: ["Des r√®gles", "Ton rythme"] },
            { t: "Avant de commencer :", dim: "JP", opts: ["Tu pr√©pares tout", "Tu te lances"] },
            { t: "Un changement de derni√®re minute :", dim: "JP", opts: ["√áa te stresse", "Tu t'adaptes"] }
        ];

        // --- PROFILS (Noms adapt√©s) ---
        const profiles = {
            "ENTJ": { title: "Le Leader naturel", cat: "Action & Impact", desc: "üëâ Organise, d√©cide, entra√Æne les autres." },
            "INTJ": { title: "Le Strat√®ge discret", cat: "Action & Impact", desc: "üëâ Observe, planifie, voit loin." },
            "ENTP": { title: "Le Challenger", cat: "Action & Impact", desc: "üëâ Questionne tout, adore d√©battre." },
            "ESTP": { title: "L‚ÄôEntrepreneur", cat: "Action & Impact", desc: "üëâ Lance des projets, ose tester." },
            
            "ENFJ": { title: "Le Coach", cat: "Humain & Relations", desc: "üëâ Motive les autres, fait progresser." },
            "ISFJ": { title: "Le Protecteur", cat: "Humain & Relations", desc: "üëâ Fiable, pr√©sent, aide concr√®tement." },
            "INFP": { title: "Le M√©diateur", cat: "Humain & Relations", desc: "üëâ Apaise les tensions, comprend chacun." },
            "ESFJ": { title: "Le Pilier du groupe", cat: "Humain & Relations", desc: "üëâ Maintient l‚Äôambiance, soutient l‚Äô√©quipe." },
            
            "ISFP": { title: "L‚ÄôArtiste libre", cat: "Cr√©a & Expression", desc: "üëâ Cr√©atif, spontan√©, sensible." },
            "ENFP": { title: "L‚ÄôExplorateur", cat: "Cr√©a & Expression", desc: "üëâ Curieux, aime tester, bouger." },
            "INTP": { title: "Le Cr√©ateur d‚Äôid√©es", cat: "Cr√©a & Expression", desc: "üëâ Imagine des concepts, solutions nouvelles." },
            "INFJ": { title: "Le Visionnaire", cat: "Cr√©a & Expression", desc: "üëâ Voit le futur, pense diff√©remment." },
            
            "ESTJ": { title: "Le Pro de l‚Äôorga", cat: "Organisation & Logique", desc: "üëâ Structur√©, efficace, fiable." },
            "ISTP": { title: "Le Technicien", cat: "Organisation & Logique", desc: "üëâ Aime comprendre comment √ßa marche." },
            "ISTJ": { title: "Le Planificateur", cat: "Organisation & Logique", desc: "üëâ Anticipe, s√©curise, pr√©pare tout." },
            "ESFP": { title: "L'Analyste", cat: "Organisation & Logique", desc: "üëâ Logique, pr√©cis, aime les faits." } // Mapping ajust√© pour 16 profils
        };

        // Mapping direct codes MBTI -> Profils
        const mbtiMap = {};
        Object.keys(profiles).forEach(k => mbtiMap[k] = profiles[k]);

        // --- G√âN√âRATION DU QUIZ ---
        const container = document.getElementById('questions-container');
        
        questions.forEach((q, index) => {
            const qDiv = document.createElement('div');
            qDiv.className = 'question-block';
            qDiv.innerHTML = `
                <span class="question-text">${index + 1}. ${q.t}</span>
                <div class="options">
                    <label>
                        <input type="radio" name="q${index}" value="1" onchange="updateProgress()" required>
                        <span>${q.opts[0]}</span>
                    </label>
                    <label>
                        <input type="radio" name="q${index}" value="-1" onchange="updateProgress()">
                        <span>${q.opts[1]}</span>
                    </label>
                </div>
            `;
            container.appendChild(qDiv);
        });

        function updateProgress() {
            const total = questions.length;
            const answered = document.querySelectorAll('input[type="radio"]:checked').length;
            const percent = (answered / total) * 100;
            document.getElementById('progress-bar').style.width = percent + '%';
        }

        // --- CALCUL ---
        function calculateResults() {
            const form = document.getElementById('quiz-form');
            const formData = new FormData(form);
            
            let answered = 0;
            for(let pair of formData.entries()) answered++;
            
            if(answered < questions.length) {
                alert(`Oups ! Il reste des questions sans r√©ponse (${answered}/${questions.length}).`);
                return;
            }

            let scores = { E:0, I:0, S:0, N:0, T:0, F:0, J:0, P:0 };

            questions.forEach((q, index) => {
                const val = parseInt(formData.get(`q${index}`));
                const [poleA, poleB] = q.dim.split('');
                if (val === 1) scores[poleA]++;
                else scores[poleB]++;
            });

            let mbtiCode = "";
            mbtiCode += (scores.E >= scores.I) ? "E" : "I";
            mbtiCode += (scores.S >= scores.N) ? "S" : "N";
            mbtiCode += (scores.T >= scores.F) ? "T" : "F";
            mbtiCode += (scores.J >= scores.P) ? "J" : "P";

            displayResult(mbtiCode);
        }

        function displayResult(code) {
            document.getElementById('quiz-header').classList.add('hidden');
            document.getElementById('quiz-form').classList.add('hidden');
            
            // Fallback si code inconnu (ne devrait pas arriver)
            const profile = mbtiMap[code] || profiles["ESTJ"]; 

            // Ic√¥ne dynamique
            let icon = "üåü";
            if(profile.cat.includes("Action")) icon = "üöÄ";
            if(profile.cat.includes("Humain")) icon = "ü§ù";
            if(profile.cat.includes("Cr√©a")) icon = "üé®";
            if(profile.cat.includes("Organisation")) icon = "üìä";

            // Couleur cat√©gorie
            const catElem = document.getElementById('res-category');
            catElem.innerText = profile.cat;
            if(profile.cat.includes("Action")) catElem.style.backgroundColor = "var(--red)";
            if(profile.cat.includes("Humain")) catElem.style.backgroundColor = "var(--green)";
            if(profile.cat.includes("Cr√©a")) catElem.style.backgroundColor = "var(--orange)";
            if(profile.cat.includes("Organisation")) catElem.style.backgroundColor = "var(--blue)";

            document.getElementById('res-icon').innerText = icon;
            document.getElementById('res-title').innerText = profile.title;
            document.getElementById('res-desc').innerText = profile.desc;
            
            const resultsDiv = document.getElementById('results');
            resultsDiv.style.display = 'block';
            
            // Animation Confettis
            for(let i=0; i<30; i++) {
                createConfetti(resultsDiv);
            }

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function createConfetti(container) {
            const colors = ['var(--red)', 'var(--yellow)', 'var(--turquoise)', 'var(--orange)'];
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.left = Math.random() * 100 + '%';
            confetti.style.top = -10 + 'px';
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.animationDuration = (Math.random() * 2 + 1) + 's';
            
            // Animation CSS inject√©e dynamiquement pour la chute
            const styleSheet = document.createElement("style");
            styleSheet.innerText = `
                @keyframes fall {
                    to { transform: translateY(500px) rotate(720deg); opacity: 0; }
                }
            `;
            document.head.appendChild(styleSheet);
            
            container.appendChild(confetti);
            setTimeout(() => confetti.remove(), 3000);
        }
    </script>

</body>
</html>
