<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Trouvez le job qui vous fait Vibrer ‚Äî Version interactive</title>
<style>
  /* Palette extraite du logo "Life Skills" fourni (approximation par √©chantillonnage des couleurs dominantes) */
  :root{
    --red:#cb3234;          /* rouge principal */
    --redDeep:#a94648;      /* rouge profond */
    --turq:#53e4cf;         /* turquoise puzzle */
    --yellow:#fecc2c;       /* jaune puzzle */
    --pink:#fca5a4;         /* rose saumon anneau */
    --pinkSoft:#ecd5cd;     /* rose clair / saumon soft */
    --white:#ffffff;

    --bg: var(--white);
    --text: #1d1d1d;

    --radiusXL: 28px;
    --radiusLG: 20px;
    --radiusMD: 14px;

    --shadow: 0 12px 34px rgba(0,0,0,.10);
    --shadowSoft: 0 10px 24px rgba(0,0,0,.08);
  }

  *{ box-sizing:border-box; }
  body{
    margin:0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
    background: var(--bg);
    color: var(--text);
  }

  /* Fond ‚ÄúLS4YOU‚Äù l√©ger */
  .bg{
    position: fixed;
    inset: 0;
    pointer-events:none;
    z-index:0;
    overflow:hidden;
  }
  .blob{
    position:absolute;
    width: 520px;
    height: 520px;
    border-radius: 999px;
    filter: blur(.2px);
    opacity: .16;
  }
  .b1{ background: var(--pink); left: -140px; top: -160px; }
  .b2{ background: var(--turq); right: -180px; top: 120px; }
  .b3{ background: var(--yellow); left: 20%; bottom: -260px; opacity:.12; }
  .dot{
    position:absolute;
    width: 14px; height: 14px;
    border-radius: 999px;
    opacity:.22;
  }
  .d1{ background: var(--turq); left: 8%; top: 40%; }
  .d2{ background: var(--yellow); left: 18%; top: 66%; }
  .d3{ background: var(--pink); right: 12%; top: 26%; }
  .d4{ background: var(--red); right: 20%; bottom: 22%; opacity:.16; }

  /* ‚Äúpuzzles‚Äù d√©coratifs */
  .puzzle{
    position:absolute;
    width: 92px; height: 64px;
    border-radius: 20px;
    box-shadow: var(--shadowSoft);
    opacity:.92;
  }
  .puzzle:before,.puzzle:after{
    content:"";
    position:absolute;
    width: 26px; height: 26px;
    border-radius: 999px;
    background: inherit;
  }
  .puzzle:before{ left:-10px; top:19px; }
  .puzzle:after{ right:-10px; top:19px; }
  .pz1{ background: var(--turq); left: -20px; top: 110px; transform: rotate(-10deg); }
  .pz2{ background: var(--yellow); right: -18px; top: 180px; transform: rotate(10deg); }
  .pz3{ background: var(--pink); left: -10px; top: 580px; transform: rotate(6deg); opacity:.65; }
  .pz4{ background: var(--red); right: -12px; top: 720px; transform: rotate(-6deg); opacity:.55; }

  .wrap{
    position: relative;
    z-index:1;
    width: min(1080px, calc(100% - 32px));
    margin: 0 auto;
    padding: 18px 0 36px;
  }

  header{
    background: #fff;
    border-radius: var(--radiusXL);
    box-shadow: var(--shadow);
    border: 1px solid rgba(0,0,0,.08);
    overflow:hidden;
  }
  .headTop{
    display:flex;
    justify-content: space-between;
    align-items:center;
    gap: 12px;
    padding: 14px 16px;
  }
  .brand{
    display:flex; align-items:center; gap: 12px;
  }
  .brand img{
    height: 44px; width:auto; display:block;
  }
  .badge{
    display:inline-flex; align-items:center; gap:8px;
    padding: 8px 12px;
    border-radius: 999px;
    background: rgba(83,228,207,.15);
    border: 1px solid rgba(83,228,207,.35);
    font-weight: 900;
    font-size: 13px;
  }
  .badge i{
    width:10px; height:10px; border-radius:999px;
    background: var(--turq);
    display:inline-block;
  }

  .hero{
    padding: 8px 16px 16px;
    display:grid;
    grid-template-columns: 1.25fr .75fr;
    gap: 16px;
    align-items:center;
    background:
      radial-gradient(circle at 20% 20%, rgba(252,165,164,.22), rgba(252,165,164,0) 45%),
      radial-gradient(circle at 85% 40%, rgba(83,228,207,.18), rgba(83,228,207,0) 50%),
      radial-gradient(circle at 65% 90%, rgba(254,204,44,.16), rgba(254,204,44,0) 55%);
  }
  @media (max-width: 860px){ .hero{ grid-template-columns: 1fr; } }

  h1{
    margin:0;
    font-size: clamp(26px, 3.2vw, 42px);
    line-height:1.05;
    font-weight: 1000;
    color: var(--red);
    letter-spacing:.2px;
  }
  .sub{
    margin: 10px 0 0;
    max-width: 62ch;
    font-size: 14.5px;
    color: rgba(0,0,0,.78);
  }
  .note{
    margin-top: 12px;
    padding: 12px 14px;
    border-radius: var(--radiusLG);
    background: rgba(254,204,44,.16);
    border: 1px solid rgba(254,204,44,.35);
    font-size: 13.5px;
    font-weight: 700;
  }

  .progressWrap{
    display:flex;
    flex-direction: column;
    gap: 10px;
    align-items: stretch;
  }
  .stepLine{
    display:flex;
    gap: 8px;
    flex-wrap: wrap;
  }
  .chip{
    display:inline-flex;
    align-items:center;
    gap:8px;
    padding: 8px 10px;
    border-radius: 999px;
    border: 1px solid rgba(0,0,0,.10);
    background: #fff;
    font-weight: 900;
    font-size: 12px;
    cursor:pointer;
    user-select:none;
  }
  .chip .mini{ width:10px;height:10px;border-radius:999px; display:inline-block; }
  .c1 .mini{ background: var(--turq); }
  .c2 .mini{ background: var(--yellow); }
  .c3 .mini{ background: var(--pink); }
  .c4 .mini{ background: var(--red); }
  .chip.active{
    box-shadow: var(--shadowSoft);
    border-color: rgba(0,0,0,.18);
    background:
      radial-gradient(circle at 20% 40%, rgba(83,228,207,.14), rgba(83,228,207,0) 50%),
      radial-gradient(circle at 70% 10%, rgba(252,165,164,.12), rgba(252,165,164,0) 50%),
      #fff;
  }

  .bar{
    height: 10px;
    border-radius: 999px;
    background: rgba(0,0,0,.08);
    overflow:hidden;
  }
  .bar > div{
    height:100%;
    width:0%;
    border-radius: 999px;
    background: linear-gradient(90deg, var(--turq), var(--yellow), var(--pink), var(--red));
    transition: width .25s ease;
  }

  main{
    margin-top: 14px;
    display:grid;
    grid-template-columns: 1fr;
    gap: 14px;
  }
  .card{
    background:#fff;
    border-radius: var(--radiusXL);
    border: 1px solid rgba(0,0,0,.08);
    box-shadow: var(--shadow);
    overflow:hidden;
  }
  .cardHead{
    padding: 14px 16px;
    display:flex;
    justify-content: space-between;
    align-items:flex-start;
    gap: 12px;
    background:
      radial-gradient(circle at 10% 50%, rgba(252,165,164,.18), rgba(252,165,164,0) 50%),
      radial-gradient(circle at 85% 30%, rgba(83,228,207,.14), rgba(83,228,207,0) 50%);
  }
  .cardHead h2{
    margin:0;
    font-size: 16px;
    font-weight: 1000;
    color: rgba(0,0,0,.86);
  }
  .cardHead p{
    margin: 4px 0 0;
    font-size: 13px;
    color: rgba(0,0,0,.68);
    font-weight: 700;
  }

  .cardBody{ padding: 16px; }

  .btnRow{ display:flex; gap: 10px; flex-wrap: wrap; }
  button{
    appearance:none;
    border:none;
    cursor:pointer;
    padding: 11px 14px;
    border-radius: 999px;
    font-weight: 1000;
    font-size: 13px;
    display:inline-flex;
    align-items:center;
    gap: 8px;
    box-shadow: var(--shadowSoft);
  }
  .btnPrimary{ background: var(--red); color:#fff; }
  .btnGhost{
    background: rgba(0,0,0,.04);
    color: rgba(0,0,0,.86);
    border: 1px solid rgba(0,0,0,.12);
    box-shadow: none;
  }
  .btnAlt{ background: var(--turq); color: rgba(0,0,0,.88); }
  .btnWarn{ background: var(--yellow); color: rgba(0,0,0,.88); }

  .q{
    padding: 12px;
    border-radius: 18px;
    border: 1px solid rgba(0,0,0,.10);
    background: rgba(0,0,0,.02);
    margin-bottom: 12px;
  }
  .qTitle{
    margin:0 0 10px;
    font-weight: 1000;
  }

  .optGrid{
    display:grid;
    grid-template-columns: 1fr;
    gap: 8px;
  }
  @media (min-width: 820px){
    .optGrid{ grid-template-columns: 1fr 1fr; }
  }
  .opt{
    padding: 10px 12px;
    border-radius: 999px;
    border: 1px solid rgba(0,0,0,.12);
    background:#fff;
    font-weight: 900;
    cursor:pointer;
    user-select:none;
    display:flex;
    gap:10px;
    align-items:flex-start;
  }
  .opt .badgeL{
    width: 28px; height: 28px;
    border-radius: 999px;
    display:grid;
    place-items:center;
    font-weight: 1000;
    flex: 0 0 auto;
    color:#fff;
  }
  .bA{ background: var(--turq); color: rgba(0,0,0,.85) !important; }
  .bB{ background: var(--yellow); color: rgba(0,0,0,.85) !important; }
  .bC{ background: var(--pink); color: rgba(0,0,0,.85) !important; }
  .bD{ background: var(--red); }

  .opt.selected{
    box-shadow: var(--shadowSoft);
    border-color: rgba(0,0,0,.20);
    background:
      radial-gradient(circle at 20% 50%, rgba(83,228,207,.12), rgba(83,228,207,0) 55%),
      radial-gradient(circle at 70% 30%, rgba(254,204,44,.12), rgba(254,204,44,0) 55%),
      #fff;
  }

  .miniInfo{
    font-size: 12px;
    color: rgba(0,0,0,.68);
    font-weight: 700;
    margin-top: 10px;
  }

  /* Valeurs : chips + classement */
  .valuesGrid{
    display:flex;
    flex-wrap: wrap;
    gap: 8px;
  }
  .valueChip{
    padding: 9px 10px;
    border-radius: 999px;
    border: 1px solid rgba(0,0,0,.12);
    background:#fff;
    font-weight: 900;
    font-size: 12.5px;
    cursor:pointer;
    user-select:none;
  }
  .valueChip.sel{
    border-color: rgba(0,0,0,.22);
    box-shadow: var(--shadowSoft);
    background:
      radial-gradient(circle at 30% 30%, rgba(252,165,164,.14), rgba(252,165,164,0) 55%),
      #fff;
  }
  .rankBox{
    margin-top: 12px;
    display:grid;
    grid-template-columns: 1fr;
    gap: 10px;
  }
  @media (min-width: 820px){ .rankBox{ grid-template-columns: 1fr 1fr; } }
  .rankItem{
    border-radius: 18px;
    border: 1px solid rgba(0,0,0,.12);
    background: rgba(0,0,0,.02);
    padding: 10px 12px;
    display:flex;
    align-items:center;
    justify-content: space-between;
    gap: 10px;
  }
  .rankItem strong{ font-weight: 1000; }
  select{
    border-radius: 999px;
    padding: 8px 10px;
    font-weight: 900;
    border: 1px solid rgba(0,0,0,.14);
    background:#fff;
  }

  textarea, input{
    width: 100%;
    border-radius: 18px;
    border: 1px solid rgba(0,0,0,.12);
    padding: 10px 12px;
    font-size: 14px;
    outline:none;
  }
  textarea:focus, input:focus{
    border-color: rgba(203,50,52,.40);
    box-shadow: 0 0 0 4px rgba(203,50,52,.12);
  }

  .grid2{
    display:grid;
    grid-template-columns: 1fr;
    gap: 12px;
  }
  @media (min-width: 920px){ .grid2{ grid-template-columns: 1fr 1fr; } }

  .table{
    width:100%;
    border-collapse: separate;
    border-spacing: 0 10px;
  }
  .table th{
    text-align:left;
    font-size: 12px;
    color: rgba(0,0,0,.65);
    padding: 0 8px;
  }
  .table td{
    padding: 0 8px;
  }

  .pillFooter{
    margin-top: 12px;
    display:flex;
    gap: 8px;
    flex-wrap: wrap;
  }
  .pill{
    border-radius: 999px;
    padding: 8px 10px;
    font-weight: 1000;
    font-size: 12px;
    border: 1px solid rgba(0,0,0,.10);
    background:#fff;
    display:inline-flex;
    gap:8px;
    align-items:center;
  }
  .pill i{ width:10px;height:10px;border-radius:999px; display:inline-block; }
  .pTurq i{ background: var(--turq); }
  .pYel i{ background: var(--yellow); }
  .pPink i{ background: var(--pink); }
  .pRed i{ background: var(--red); }

  .hidden{ display:none !important; }

  footer{
    margin-top: 14px;
    text-align:center;
    font-size: 12px;
    color: rgba(0,0,0,.62);
  }
</style>
</head>
<body>
  <div class="bg" aria-hidden="true">
    <div class="blob b1"></div>
    <div class="blob b2"></div>
    <div class="blob b3"></div>
    <div class="dot d1"></div><div class="dot d2"></div><div class="dot d3"></div><div class="dot d4"></div>
  </div>

  <div class="wrap">
    <div class="puzzle pz1" aria-hidden="true"></div>
    <div class="puzzle pz2" aria-hidden="true"></div>
    <div class="puzzle pz3" aria-hidden="true"></div>
    <div class="puzzle pz4" aria-hidden="true"></div>

    <header>
      <div class="headTop">
        <div class="brand">
          <img src="LS4YOU_Logo.png" alt="Life Skills logo" />
          <span class="badge"><i></i>Version interactive</span>
        </div>
        <div class="btnRow">
          <button class="btnGhost" id="btnSave" type="button">üíæ Sauvegarder</button>
          <button class="btnGhost" id="btnReset" type="button">‚ôªÔ∏è R√©initialiser</button>
        </div>
      </div>

      <div class="hero">
        <div>
          <h1>Trouvez le job qui vous fait Vibrer</h1>
          <p class="sub">
            Trouver un travail qui vous passionne est un objectif que beaucoup aspirent √† atteindre.
            Ce guide vous accompagnera pas √† pas pour vous aider √† identifier vos aspirations professionnelles,
            √† trouver un travail align√© avec vos valeurs et comp√©tences, et √† vous pr√©parer efficacement pour d√©crocher ce job de r√™ve.
            Vous y trouverez des conseils pratiques, des exercices pour mieux vous conna√Ætre, ainsi que des ressources en ligne pour vous guider dans votre recherche.
            Enfin, nous vous pr√©senterons les dispositifs offerts par le CFP Presqu'√éle pour vous aider dans votre orientation professionnelle.
          </p>
          <div class="note">üí° Ce parcours est en √©tapes : tu avances √† ton rythme.</div>
        </div>

        <div class="progressWrap">
          <div class="stepLine" id="stepLine"></div>
          <div class="bar" aria-hidden="true"><div id="barFill"></div></div>
          <div class="miniInfo" id="miniInfo">√âtape 1/6</div>
        </div>
      </div>
    </header>

    <main>
      <!-- STEP 1 -->
      <section class="card" data-step="0">
        <div class="cardHead">
          <div>
            <h2>CE QUE J‚ÄôAIME FAIRE POURQUOI ?</h2>
            <p>CONNAISSANCE DE SOI : La cl√© de la r√©ussite ‚Äî Exercice 1 : Analyse de ce que vous aimez</p>
          </div>
        </div>
        <div class="cardBody">
          <p style="margin-top:0;font-weight:800;">
            Avant de vous lancer dans la recherche d'emploi, il est essentiel de bien vous conna√Ætre. Identifier vos passions, vos comp√©tences, et ce qui vous motive est fondamental pour trouver un travail qui vous fait vibrer.
          </p>
          <div class="q">
            <p class="qTitle">1. Listez ce que vous aimez :</p>
            <p style="margin:0 0 10px;">
              Prenez un moment pour r√©fl√©chir √† ce qui vous passionne vraiment.
              Quelles activit√©s faites-vous sans voir le temps passer ? Qu'est-ce qui vous excite ou vous motive au quotidien ?
              Exemple : √âcrire, aider les autres, r√©soudre des probl√®mes techniques, etc.
            </p>
            <textarea id="likeList" placeholder="√âcris ici‚Ä¶"></textarea>
          </div>
          <div class="q">
            <p class="qTitle">Et qu‚Äôest-ce que vous aimez dans ces activit√©s ?</p>
            <textarea id="likeWhy" placeholder="√âcris ici‚Ä¶"></textarea>
          </div>

          <div class="btnRow">
            <button class="btnPrimary" type="button" id="next0">‚û°Ô∏è Continuer</button>
          </div>
        </div>
      </section>

      <!-- STEP 2 : QUIZ A-D -->
      <section class="card hidden" data-step="1">
        <div class="cardHead">
          <div>
            <h2>CONNAISSANCE DE SOI : Exercice 1 : Environnement de travail et rythme de travail</h2>
            <p>Choisis A, B, C ou D pour chaque question</p>
          </div>
          <div class="btnRow">
            <button class="btnWarn" type="button" id="btnCalcAD">üßÆ Calcul r√©sultat</button>
          </div>
        </div>
        <div class="cardBody" id="quizAD"></div>
      </section>

      <!-- STEP 3 : RESULTATS A-D -->
      <section class="card hidden" data-step="2">
        <div class="cardHead">
          <div>
            <h2>R√©sultat</h2>
            <p>Nombre total de A ‚Ä¢ Nombre total de B ‚Ä¢ Nombre total de C ‚Ä¢ Nombre total de D</p>
          </div>
        </div>
        <div class="cardBody">
          <div class="grid2">
            <div class="q">
              <p class="qTitle" style="margin-bottom:6px;">Totaux</p>
              <div class="pillFooter" id="totalsPills"></div>
              <p class="miniInfo" id="majorInfo"></p>
            </div>
            <div class="q">
              <p class="qTitle" style="margin-bottom:6px;">Interpr√©tation</p>
              <div id="resultText" style="font-weight:700;color:rgba(0,0,0,.80)"></div>
            </div>
          </div>

          <div class="btnRow" style="margin-top:12px;">
            <button class="btnPrimary" type="button" id="next2">‚û°Ô∏è Continuer</button>
            <button class="btnGhost" type="button" id="back2">‚¨ÖÔ∏è Retour</button>
          </div>
        </div>
      </section>

      <!-- STEP 4 : VALEURS -->
      <section class="card hidden" data-step="3">
        <div class="cardHead">
          <div>
            <h2>Exercice 3 : Qu‚Äôest-ce qui est important pour vous ?</h2>
            <p>ORDRE VALEUR ‚Äî 1 2 3 4 5</p>
          </div>
        </div>
        <div class="cardBody">
          <div class="q">
            <p class="qTitle">1. Notez les aspects les plus importants pour vous dans un emploi.</p>
            <p style="margin:0 0 10px;">Retrouvez une liste de valeur √† la page suivante</p>
            <p class="qTitle" style="margin-top:10px;">2. Quelles sont vos priorit√©s ?</p>
            <p style="margin:0;">Classez-les par ordre d'importance pour identifier ce qui compte vraiment pour vous dans votre futur travail.</p>
          </div>

          <div class="q">
            <p class="qTitle">LISTE DES CHOSES importantes pour Vous</p>
            <div class="valuesGrid" id="valuesGrid"></div>
            <p class="miniInfo">Clique pour s√©lectionner (max 5). Ensuite classe 1‚Üí5.</p>

            <div class="rankBox" id="rankBox"></div>
          </div>

          <div class="btnRow">
            <button class="btnPrimary" type="button" id="next3">‚û°Ô∏è Continuer</button>
            <button class="btnGhost" type="button" id="back3">‚¨ÖÔ∏è Retour</button>
          </div>
        </div>
      </section>

      <!-- STEP 5 : EXPLORATION + PLAN -->
      <section class="card hidden" data-step="4">
        <div class="cardHead">
          <div>
            <h2>EXPLORATION DES M√âTIERS & SECTEURS</h2>
            <p>Exercice 3 : Recherche de m√©tier ‚Ä¢ Exercice 4 : Cr√©ation d‚Äôune vision √† long terme ‚Ä¢ Exercice 4 : Recherche de m√©tier</p>
          </div>
        </div>
        <div class="cardBody">
          <div class="q">
            <p class="qTitle">Exercice 3 : Recherche de m√©tier</p>
            <p style="margin:0 0 10px;">
              1. Utilisez des plateformes de d√©couverte de m√©tiers : Des sites comme Orientation pour tous ou France Travail offrent des outils pour explorer diff√©rents m√©tiers en fonction de vos int√©r√™ts.
            </p>
            <p style="margin:0;">
              2.Effectuez des entretiens informels : Contactez des professionnels des secteurs qui vous int√©ressent pour en savoir plus sur leur quotidien, les comp√©tences requises, et les perspectives d'√©volution.
            </p>
          </div>

          <div class="q">
            <p class="qTitle">Exercice 4 : Cr√©ation d‚Äôune vision √† long terme</p>
            <p style="margin:0;">
              1. Imaginez votre journ√©e id√©ale au travail : D√©crivez en d√©tail une journ√©e typique dans le m√©tier que vous visez. Quelles t√¢ches r√©alisez-vous ? Dans quel environnement travaillez-vous ?
            </p>
            <textarea id="idealDay" placeholder="√âcris ici‚Ä¶"></textarea>
          </div>

          <div class="q">
            <p class="qTitle">Exercice 4 : Recherche de m√©tier</p>
            <p style="margin:0 0 10px;">
              2.√âtablissez un plan d'action : √ânum√©rez les √©tapes √† suivre pour atteindre cet objectif. Quelle formation devez-vous suivre ? Quelles comp√©tences devez-vous d√©velopper ?.
            </p>

            <table class="table" aria-label="Plan d'action">
              <thead>
                <tr>
                  <th>OBJECTIFS</th>
                  <th>ACTIVITES</th>
                  <th>PERSONNES CONTACTS</th>
                  <th>ECHEANCE</th>
                </tr>
              </thead>
              <tbody id="planRows"></tbody>
            </table>
            <div class="btnRow">
              <button class="btnAlt" type="button" id="addRow">‚ûï Ajouter une ligne</button>
            </div>
          </div>

          <div class="btnRow">
            <button class="btnPrimary" type="button" id="next4">‚û°Ô∏è Continuer</button>
            <button class="btnGhost" type="button" id="back4">‚¨ÖÔ∏è Retour</button>
          </div>
        </div>
      </section>

      <!-- STEP 6 : PREPARATION + DISPOSITIFS -->
      <section class="card hidden" data-step="5">
        <div class="cardHead">
          <div>
            <h2>PREPARATION & RECHERCHE D‚ÄôEMPLOI</h2>
            <p>Conseil n¬∞1 ‚Ä¢ Conseil n¬∞2 ‚Ä¢ Conseil n¬∞3 ‚Ä¢ Conseil n¬∞4 ‚Ä¢ On estl√† pour Vous</p>
          </div>
        </div>
        <div class="cardBody">
          <div class="q">
            <p style="margin:0;font-weight:800;">
              Maintenant que vous avez identifi√© votre domaine de pr√©dilection, il est temps de passer √† l'action et de rechercher activement un emploi.
            </p>
          </div>

          <div class="grid2">
            <div class="q">
              <p class="qTitle">R√©digez un CV et une lettre de motivation percutants :</p>
              <p style="margin:0;">Adaptez ces documents √† chaque offre d'emploi en mettant en avant les comp√©tences et exp√©riences pertinentes pour le poste.</p>
            </div>

            <div class="q">
              <p class="qTitle">Conseil n¬∞1 :</p>
              <p style="margin:0;">
                Utilisez des plateformes de recherche d'emploi : Des sites comme Indeed, LinkedIn, et Monster sont des ressources pr√©cieuses pour trouver des offres d'emploi dans votre secteur.
              </p>
            </div>

            <div class="q">
              <p class="qTitle">Conseil n¬∞2 :</p>
              <p style="margin:0;">
                R√©seautage : Participez √† des √©v√©nements professionnels, rejoignez des groupes sur LinkedIn, et n'h√©sitez pas √† contacter directement les entreprises qui vous int√©ressent.
              </p>
            </div>

            <div class="q">
              <p class="qTitle">Conseil n¬∞3 :</p>
              <p style="margin:0;">
                Pr√©parez-vous aux entretiens : Entra√Ænez-vous √† r√©pondre aux questions classiques d'entretien, pr√©parez des exemples concrets de vos r√©alisations, et montrez en quoi vos valeurs et comp√©tences sont align√©es avec le poste propos√©.
              </p>
            </div>

            <div class="q">
              <p class="qTitle">Conseil n¬∞4 :</p>
              <p style="margin:0;"></p>
              <p class="miniInfo">Le livret indique ‚ÄúConseil n¬∞4 :‚Äù sans contenu suppl√©mentaire visible dans le texte extrait.</p>
            </div>
          </div>

          <div class="q" style="margin-top:12px;">
            <p class="qTitle">On estl√† pour Vous</p>

            <div class="q" style="background:#fff;border:1px solid rgba(0,0,0,.10)">
              <p style="margin:0;font-weight:900;">Un dispositif qui vous permet d'explorer diff√©rents m√©tiers, d'acqu√©rir des comp√©tences de base et de vous pr√©parer √† int√©grer une formation qualifiante ou √† entrer directement sur le march√© du travail. Vous b√©n√©ficiez d'un accompagnement personnalis√© pour construire un projet professionnel solide.</p>
              <p style="margin:10px 0 0;font-weight:1000;color:var(--red);">√áA M‚ÄôINT√âRESSE !</p>
            </div>

            <div class="q" style="background:#fff;border:1px solid rgba(0,0,0,.10)">
              <p style="margin:0;font-weight:900;">Ces ateliers vous proposent des conseils personnalis√©s pour optimiser votre recherche d'emploi, avec des exercices pratiques pour am√©liorer vos outils de candidature et pr√©parer vos entretiens.</p>
              <p style="margin:10px 0 0;font-weight:1000;color:var(--red);">√áA M‚ÄôINT√âRESSE !</p>
            </div>

            <div class="q" style="background:#fff;border:1px solid rgba(0,0,0,.10)">
              <p style="margin:0;font-weight:900;">Un accompagnement destin√© aux personnes rencontrant des difficult√©s de sant√© ou sociales, afin de faciliter leur retour √† l'emploi. Ce parcours propose un suivi individualis√© pour concilier emploi et sant√©.</p>
              <p style="margin:10px 0 0;font-weight:1000;color:var(--red);">√áA M‚ÄôINT√âRESSE !</p>
            </div>

            <div class="q" style="background:#fff;border:1px solid rgba(0,0,0,.10)">
              <p style="margin:0;font-weight:900;">Vous avez une id√©e de projet entrepreneurial mais vous ne savez pas par o√π commencer ? Activ'Cr√©a Emergence vous aide √† structurer votre projet, √† √©valuer sa viabilit√©, et √† √©tablir un plan d'action pour le lancer.</p>
              <p style="margin:10px 0 0;font-weight:1000;color:var(--red);">√áA M‚ÄôINT√âRESSE !</p>
            </div>
          </div>

          <div class="q">
            <p style="margin:0;font-weight:900;">Vivez l‚Äôexp√©rience Into the dock !</p>
          </div>

          <div class="btnRow">
            <button class="btnPrimary" type="button" id="btnExport">üßæ Exporter mon r√©sum√©</button>
            <button class="btnGhost" type="button" id="back5">‚¨ÖÔ∏è Retour</button>
          </div>
        </div>
      </section>
    </main>

    <footer>
      Version interactive locale (aucune donn√©e envoy√©e) ‚Äî Tu peux sauvegarder/reprendre avec ‚Äúüíæ Sauvegarder‚Äù.
    </footer>
  </div>

<script>
  /* =========================
     NAV STEPS
  ========================= */
  const STEPS = [
    { key:"intro", label:"Moi", color:"c1" },
    { key:"quiz", label:"Quiz", color:"c2" },
    { key:"result", label:"R√©sultat", color:"c3" },
    { key:"values", label:"Valeurs", color:"c4" },
    { key:"plan", label:"Plan", color:"c1" },
    { key:"action", label:"Action", color:"c2" }
  ];

  const stepLine = document.getElementById("stepLine");
  const barFill = document.getElementById("barFill");
  const miniInfo = document.getElementById("miniInfo");
  const stepCards = Array.from(document.querySelectorAll("[data-step]"));

  let current = 0;

  function renderStepChips(){
    stepLine.innerHTML = "";
    STEPS.forEach((s, idx)=>{
      const chip = document.createElement("div");
      chip.className = `chip ${s.color} ${idx===current ? "active":""}`;
      chip.innerHTML = `<span class="mini"></span>${idx+1}. ${s.label}`;
      chip.classList.add(idx===0?"c1":idx===1?"c2":idx===2?"c3":idx===3?"c4":"c1");
      chip.addEventListener("click", ()=>go(idx));
      stepLine.appendChild(chip);
    });
  }

  function go(idx){
    current = Math.max(0, Math.min(idx, STEPS.length-1));
    stepCards.forEach((sec)=>{
      sec.classList.toggle("hidden", parseInt(sec.dataset.step,10) !== current);
    });
    renderStepChips();
    const pct = Math.round(((current+1)/STEPS.length)*100);
    barFill.style.width = pct + "%";
    miniInfo.textContent = `√âtape ${current+1}/${STEPS.length}`;
    window.scrollTo({top: 0, behavior: "smooth"});
  }

  /* =========================
     STEP 2 : QUIZ A-D (texte EXACT du livret)
  ========================= */
  const quizADData = [
    {
      q:"1. CE QUI VOUS MOTIVE LE MATIN :",
      opts:{
        A:"Vous aimez les d√©fis et la nouveaut√© : Vous √™tes attir√© par des m√©tiers dynamiques, impr√©visibles, o√π vous pouvez r√©soudre des probl√®mes.",
        B:"Vous valorisez l‚Äôesprit d‚Äô√©quipe : Vous prosp√©rez dans des environnements collaboratifs o√π les relations interpersonnelles sont importantes.",
        C:"Vous pr√©f√©rez l'autonomie : Un travail ind√©pendant ou √† distance pourrait vous convenir, o√π vous pouvez g√©rer votre emploi du temps.",
        D:"Vous appr√©ciez la structure : Les m√©tiers avec des routines claires et une organisation bien d√©finie sont faits pour vous."
      }
    },
    {
      q:"2. VOTRE ESPACE DE TRAVAIL ID√âAL :",
      opts:{
        A:"Vous aimez l‚Äô√©nergie et la cr√©ativit√© : Un bureau anim√©, un environnement start-up, ou des espaces de travail ouverts vous conviennent.",
        B:"Vous cherchez l‚Äôinteraction : Les environnements collaboratifs, les agences de cr√©ation ou les espaces de coworking vous attirent.",
        C:"Vous pr√©f√©rez le calme : Un travail √† domicile, en freelance, ou dans un bureau priv√© est id√©al pour vous.",
        D:"Vous aimez l‚Äôorganisation : Les entreprises bien structur√©es avec des bureaux personnels sont faites pour vous."
      }
    },
    {
      q:"3. COMMENT VOUS ABORDEZ LES PROJETS :",
      opts:{
        A:"Vous √™tes adaptable et aimez improviser : Vous excellez dans des environnements o√π les t√¢ches sont vari√©es et changeantes.",
        B:"Vous aimez le brainstorming : Les r√¥les qui n√©cessitent de l‚Äôinnovation et de la collaboration sont parfaits pour vous.",
        C:"Vous pr√©f√©rez la planification : Vous √™tes √† l‚Äôaise dans des m√©tiers o√π l'organisation et la m√©thode sont essentielles.",
        D:"Vous suivez les proc√©dures : Un travail avec des normes et des processus √©tablis vous convient."
      }
    },
    {
      q:"4. RAPPORT √Ä L‚ÄôAUTORIT√â ET √Ä LA HI√âRARCHIE :",
      opts:{
        A:"Vous pr√©f√©rez des structures plates : Les entreprises avec une culture d‚Äô√©galitarisme ou les start-ups peuvent √™tre id√©ales.",
        B:"Vous aimez la collaboration dirig√©e : Vous recherchez un √©quilibre entre autonomie et direction claire, comme dans les √©quipes projet.",
        C:"Vous appr√©ciez la clart√© avec autonomie : Un environnement avec des directives claires mais une grande libert√© d‚Äôex√©cution vous conviendra.",
        D:"Vous aimez les hi√©rarchies d√©finies : Les grandes entreprises ou les organisations traditionnelles avec une hi√©rarchie claire sont faites pour vous."
      }
    },
    {
      q:"5. GESTION DES IMPR√âVUS :",
      opts:{
        A:"Vous aimez les impr√©vus : Les environnements impr√©visibles comme ceux des startups, ou des m√©tiers de terrain sont id√©als.",
        B:"Vous cherchez des solutions en √©quipe : Vous aimez les environnements collaboratifs o√π la solidarit√© est cl√©.",
        C:"Vous analysez avant d‚Äôagir : Les r√¥les analytiques ou de conseil o√π la r√©flexion pr√©c√®de l‚Äôaction vous conviendront.",
        D:"Vous minimisez les impr√©vus : Un travail structur√© avec des proc√©dures √©tablies, comme dans la finance ou l‚Äôadministration, pourrait vous convenir."
      }
    },
    {
      q:"6. TYPES DE PROJETS INSPIRANTS :",
      opts:{
        A:"Cr√©ativit√© et innovation : Les m√©tiers dans le design, la publicit√©, ou l‚Äôart sont faits pour vous.",
        B:"Collaboration et √©quipe : Les r√¥les dans la gestion de projet ou le travail social sont parfaits.",
        C:"Recherche et pr√©cision : Vous excellez dans les m√©tiers acad√©miques, scientifiques, ou techniques.",
        D:"Processus et r√©p√©tition : Les m√©tiers avec des t√¢ches r√©currentes et bien d√©finies, comme la comptabilit√© ou la gestion, vous conviennent."
      }
    },
    {
      q:"7. √âQUILIBRE VIE PROFESSIONNELLE ET PERSONNELLE :",
      opts:{
        A:"Vous int√©grez le travail √† votre vie : Vous pourriez appr√©cier les m√©tiers o√π le travail et la passion se rejoignent, comme les entrepreneurs.",
        B:"Vous cherchez la flexibilit√© : Les m√©tiers avec des horaires flexibles ou en freelance sont id√©aux pour vous.",
        C:"Vous aimez un √©quilibre d√©fini : Un travail avec des horaires r√©guliers et fixes est parfait.",
        D:"Vous valorisez un temps personnel bien encadr√© : Les m√©tiers avec des horaires stricts, comme les emplois gouvernementaux ou administratifs, vous conviennent."
      }
    },
    {
      q:"8. IMPORTANCE DE LA RECONNAISSANCE :",
      opts:{
        A:"Reconnaissance cr√©ative : Les m√©tiers o√π l'innovation est r√©compens√©e, comme dans les industries cr√©atives, sont pour vous.",
        B:"Reconnaissance en √©quipe : Les environnements o√π le travail d'√©quipe est valoris√© vous attirent.",
        C:"Reconnaissance discr√®te : Vous √™tes √† l‚Äôaise dans des r√¥les o√π le travail bien fait est reconnu sans grandes d√©monstrations.",
        D:"Reconnaissance formelle : Les m√©tiers dans des entreprises structur√©es avec des syst√®mes de reconnaissance officiels vous conviennent."
      }
    }
  ];

  const resultsText = {
    A:`Si vous avez majoritairement choisi des r√©ponses A :
Vous √™tes une personne qui aime l'aventure et l'impr√©vu. Vous √™tes attir√© par des environnements dynamiques et cr√©atifs o√π chaque jour apporte de nouveaux d√©fis. Vous prosp√©rez dans des m√©tiers o√π l'innovation est au c≈ìur de l'activit√©, comme les startups, les industries cr√©atives (publicit√©, design, cin√©ma), ou les r√¥les dans l'entrepreneuriat. Vous n'avez pas peur de l'inconnu et aimez avoir la libert√© de cr√©er, d'exp√©rimenter, et de prendre des initiatives. L'autonomie et la capacit√© d'improviser sont essentielles pour vous, et vous appr√©ciez les structures organisationnelles plates o√π les id√©es comptent plus que la hi√©rarchie.`,
    B:`2. Si vous avez majoritairement choisi des r√©ponses B :
Vous √™tes motiv√© par le travail d'√©quipe et la collaboration. Vous appr√©ciez les environnements o√π les √©changes sont fr√©quents et o√π vous pouvez brainstormer avec vos coll√®gues pour trouver des solutions cr√©atives. Les m√©tiers dans la gestion de projet, les services sociaux, ou les environnements √©ducatifs pourraient √™tre bien adapt√©s √† votre style. Vous recherchez des structures o√π la communication est ouverte et o√π il existe un √©quilibre entre direction et collaboration. Le travail en √©quipe est essentiel pour vous, et vous vous √©panouissez dans des environnements qui valorisent l'interaction et le soutien mutuel.`,
    C:`3. Si vous avez majoritairement choisi des r√©ponses C :
Vous √™tes une personne qui valorise l'autonomie et la r√©flexion approfondie. Vous pr√©f√©rez les environnements calmes et structur√©s o√π vous pouvez travailler √† votre propre rythme sans distractions. Les m√©tiers dans la recherche, l'analyse, ou le d√©veloppement technique, o√π la pr√©cision et la planification sont cruciales, sont id√©aux pour vous. Vous aimez avoir des directives claires, mais avec la libert√© d'ex√©cution. L'√©quilibre entre vie professionnelle et personnelle est important pour vous, et vous appr√©ciez des horaires bien d√©finis qui vous permettent de vous concentrer pleinement sur vos t√¢ches.`,
    D:`4. Si vous avez majoritairement choisi des r√©ponses D :
Vous √™tes quelqu'un qui prosp√®re dans des environnements bien organis√©s et structur√©s. Vous pr√©f√©rez des r√¥les o√π les processus sont √©tablis et o√π les attentes sont claires, comme dans l'administration, la gestion, ou la finance. La stabilit√© et la pr√©visibilit√© sont importantes pour vous, et vous aimez suivre des routines qui garantissent des r√©sultats constants. Vous appr√©ciez une hi√©rarchie bien d√©finie o√π les responsabilit√©s sont distinctes, et vous √™tes motiv√© par la reconnaissance formelle de votre travail. Un emploi avec des horaires fixes et des r√®gles bien √©tablies vous permettra de vous √©panouir.`
  };

  const quizWrap = document.getElementById("quizAD");
  const state = {
    likeList:"",
    likeWhy:"",
    quizAD: Array(quizADData.length).fill(null), // "A"|"B"|"C"|"D"
    totals:{A:0,B:0,C:0,D:0},
    major:null,
    valuesSelected: [], // strings
    valuesRank: {},     // {value: rank}
    idealDay:"",
    plan: [], // rows
  };

  function badgeClass(letter){
    return letter==="A" ? "bA" : letter==="B" ? "bB" : letter==="C" ? "bC" : "bD";
  }

  function renderQuizAD(){
    quizWrap.innerHTML = "";
    quizADData.forEach((item, i)=>{
      const box = document.createElement("div");
      box.className = "q";
      box.innerHTML = `<p class="qTitle">${item.q}</p><div class="optGrid" id="opt-${i}"></div>`;
      quizWrap.appendChild(box);

      const grid = box.querySelector(`#opt-${i}`);
      ["A","B","C","D"].forEach(letter=>{
        const opt = document.createElement("div");
        opt.className = "opt";
        opt.dataset.q = i;
        opt.dataset.v = letter;
        opt.innerHTML = `
          <span class="badgeL ${badgeClass(letter)}">${letter}</span>
          <span>${item.opts[letter]}</span>
        `;
        opt.addEventListener("click", ()=>{
          state.quizAD[i] = letter;
          updateQuizADUI(i);
          autosave(false);
        });
        grid.appendChild(opt);
      });

      updateQuizADUI(i);
    });

    const nav = document.createElement("div");
    nav.className = "btnRow";
    nav.style.marginTop = "12px";
    nav.innerHTML = `
      <button class="btnPrimary" type="button" id="next1">‚û°Ô∏è Continuer</button>
      <button class="btnGhost" type="button" id="back1">‚¨ÖÔ∏è Retour</button>
    `;
    quizWrap.appendChild(nav);

    document.getElementById("next1").addEventListener("click", ()=>go(2));
    document.getElementById("back1").addEventListener("click", ()=>go(0));
  }

  function updateQuizADUI(i){
    document.querySelectorAll(`.opt[data-q="${i}"]`).forEach(el=>{
      el.classList.toggle("selected", el.dataset.v === state.quizAD[i]);
    });
  }

  function calcAD(){
    const totals = {A:0,B:0,C:0,D:0};
    state.quizAD.forEach(v=>{
      if(v && totals[v]!==undefined) totals[v]+=1;
    });
    state.totals = totals;

    // majorit√© (en cas d'√©galit√©, prend la 1√®re par ordre A,B,C,D)
    const order = ["A","B","C","D"];
    let major = "A";
    order.forEach(l=>{
      if(totals[l] > totals[major]) major = l;
    });
    state.major = major;

    renderTotals();
    autosave(false);
  }

  function renderTotals(){
    const totalsPills = document.getElementById("totalsPills");
    const majorInfo = document.getElementById("majorInfo");
    const resultTextDiv = document.getElementById("resultText");
    totalsPills.innerHTML = `
      <span class="pill pTurq"><i></i>Nombre total de A : <strong>${state.totals.A}</strong></span>
      <span class="pill pYel"><i></i>Nombre total de B : <strong>${state.totals.B}</strong></span>
      <span class="pill pPink"><i></i>Nombre total de C : <strong>${state.totals.C}</strong></span>
      <span class="pill pRed"><i></i>Nombre total de D : <strong>${state.totals.D}</strong></span>
    `;
    majorInfo.textContent = state.major ? `Majorit√© : ${state.major}` : "";
    resultTextDiv.textContent = state.major ? resultsText[state.major] : "Clique sur ‚ÄúCalcul r√©sultat‚Äù √† l‚Äô√©tape Quiz.";
  }

  /* =========================
     VALEURS (texte EXACT du livret)
  ========================= */
  const VALUES = [
    "Int√©grit√© : Agir avec honn√™tet√© et √©thique.",
    "Respect : Consid√©rer et valoriser les autres et leurs opinions.",
    "Responsabilit√© : Assumer ses actions et leurs cons√©quences.",
    "Empathie : Comprendre et partager les sentiments des autres.",
    "Bienveillance : Faire preuve de gentillesse et de soutien.",
    "Excellence : Rechercher constamment l'am√©lioration et la qualit√©.",
    "Collaboration : Travailler efficacement avec les autres.",
    "Cr√©ativit√© : Innover et penser de mani√®re originale.",
    "Autonomie : √ätre capable de travailler de mani√®re ind√©pendante.",
    "Loyaut√© : √ätre fid√®le √† ses engagements et √† ses relations.",
    "Transparence : √ätre clair et ouvert dans ses communications.",
    "Engagement : S'investir pleinement dans ses projets et responsabilit√©s.",
    "Humilit√© : Reconna√Ætre ses limites et apprendre des autres.",
    "Courage : Faire face aux d√©fis et prendre des d√©cisions difficiles.",
    "Durabilit√© : Prendre des d√©cisions qui respectent l'environnement et la soci√©t√©.",
    "Innovation : Encourager le changement et l'am√©lioration continue.",
    "√âquit√© : Traiter tout le monde de mani√®re juste et impartiale.",
    "Pers√©v√©rance : Ne pas abandonner face aux obstacles.",
    "Gratitude : Reconna√Ætre et appr√©cier les contributions des autres.",
    "Ouverture d'esprit : √ätre r√©ceptif aux nouvelles id√©es et perspectives.",
    "Solidarit√© : Soutenir et aider les autres dans un esprit de communaut√©.",
    "Optimisme : Aborder les situations avec une attitude positive.",
    "Authenticit√© : Rester fid√®le √† soi-m√™me et agir avec sinc√©rit√©.",
    "Innovation : Explorer de nouvelles id√©es et encourager le changement.",
    "Fiabilit√© : √ätre digne de confiance et constant dans ses actions.",
    "Discipline : Faire preuve de rigueur et de constance dans ses efforts.",
    "Adaptabilit√© : S‚Äôajuster aux changements et aux nouvelles situations.",
    "Respect de l‚Äôenvironnement : Prot√©ger et pr√©server les ressources naturelles.",
    "Esprit d‚Äô√©quipe : Collaborer efficacement et promouvoir le succ√®s collectif.",
    "Compassion : Montrer de la compr√©hension et de l‚Äôempathie envers les autres.",
    "Justice : Veiller √† ce que chacun soit trait√© √©quitablement.",
    "Patience : Savoir attendre et pers√©v√©rer calmement face aux d√©fis.",
    "G√©n√©rosit√© : Partager ses ressources et son temps avec les autres.",
    "Prudence : Agir avec r√©flexion et attention aux cons√©quences.",
    "Humour : Appr√©cier la l√©g√®ret√© et savoir trouver de la joie dans les situations.",
    "Confiance en soi : Croire en ses capacit√©s et en son potentiel.",
    "Passion : Mettre de l'√©nergie et de l'enthousiasme dans ce que l‚Äôon fait.",
    "Ouverture culturelle : Appr√©cier et respecter les diverses cultures et traditions.",
    "Innovation sociale : Cr√©er des solutions pour am√©liorer la soci√©t√©.",
    "D√©vouement : Se consacrer pleinement √† une cause ou un objectif."
  ];

  function renderValues(){
    const grid = document.getElementById("valuesGrid");
    const rankBox = document.getElementById("rankBox");
    grid.innerHTML = "";
    rankBox.innerHTML = "";

    VALUES.forEach((v)=>{
      const chip = document.createElement("div");
      chip.className = "valueChip";
      chip.textContent = v;
      if(state.valuesSelected.includes(v)) chip.classList.add("sel");

      chip.addEventListener("click", ()=>{
        const isSel = state.valuesSelected.includes(v);
        if(isSel){
          state.valuesSelected = state.valuesSelected.filter(x=>x!==v);
          delete state.valuesRank[v];
        }else{
          if(state.valuesSelected.length >= 5) return; // max 5
          state.valuesSelected.push(v);
          state.valuesRank[v] = ""; // to set
        }
        autosave(false);
        renderValues();
      });
      grid.appendChild(chip);
    });

    state.valuesSelected.forEach((v)=>{
      const row = document.createElement("div");
      row.className = "rankItem";
      row.innerHTML = `
        <div style="font-weight:900;max-width:78%">${v}</div>
        <div>
          <label style="font-weight:900;font-size:12px;margin-right:8px;">ORDRE VALEUR</label>
          <select data-v="${escapeHtml(v)}">
            <option value="" ${state.valuesRank[v]===""?"selected":""}>‚Äî</option>
            <option value="1" ${state.valuesRank[v]==="1"?"selected":""}>1</option>
            <option value="2" ${state.valuesRank[v]==="2"?"selected":""}>2</option>
            <option value="3" ${state.valuesRank[v]==="3"?"selected":""}>3</option>
            <option value="4" ${state.valuesRank[v]==="4"?"selected":""}>4</option>
            <option value="5" ${state.valuesRank[v]==="5"?"selected":""}>5</option>
          </select>
        </div>
      `;
      const sel = row.querySelector("select");
      sel.addEventListener("change", (e)=>{
        state.valuesRank[v] = e.target.value;
        autosave(false);
      });
      rankBox.appendChild(row);
    });
  }

  function escapeHtml(str){
    return String(str).replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;");
  }

  /* =========================
     PLAN D‚ÄôACTION table
  ========================= */
  function addPlanRow(row = {obj:"", act:"", people:"", date:""}){
    state.plan.push(row);
    renderPlan();
    autosave(false);
  }

  function renderPlan(){
    const tbody = document.getElementById("planRows");
    tbody.innerHTML = "";
    state.plan.forEach((r, idx)=>{
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td><input value="${escapeHtml(r.obj)}" placeholder=""></td>
        <td><input value="${escapeHtml(r.act)}" placeholder=""></td>
        <td><input value="${escapeHtml(r.people)}" placeholder=""></td>
        <td><input value="${escapeHtml(r.date)}" placeholder=""></td>
      `;
      const inputs = tr.querySelectorAll("input");
      inputs[0].addEventListener("input",(e)=>{ state.plan[idx].obj = e.target.value; autosave(false); });
      inputs[1].addEventListener("input",(e)=>{ state.plan[idx].act = e.target.value; autosave(false); });
      inputs[2].addEventListener("input",(e)=>{ state.plan[idx].people = e.target.value; autosave(false); });
      inputs[3].addEventListener("input",(e)=>{ state.plan[idx].date = e.target.value; autosave(false); });
      tbody.appendChild(tr);
    });
  }

  /* =========================
     SAVE / LOAD
  ========================= */
  const LS_KEY = "vibrer_interactive_v1";

  function autosave(showToast=true){
    // collect textareas
    state.likeList = document.getElementById("likeList").value;
    state.likeWhy = document.getElementById("likeWhy").value;
    state.idealDay = document.getElementById("idealDay")?.value ?? state.idealDay;

    localStorage.setItem(LS_KEY, JSON.stringify(state));
    if(showToast) alert("Sauvegard√© ‚úÖ");
  }

  function load(){
    const raw = localStorage.getItem(LS_KEY);
    if(!raw) return;
    try{
      const data = JSON.parse(raw);
      Object.assign(state, data);

      document.getElementById("likeList").value = state.likeList || "";
      document.getElementById("likeWhy").value = state.likeWhy || "";

      // quiz selections
      renderQuizAD();

      // results
      renderTotals();

      // values
      renderValues();

      // plan
      if(!Array.isArray(state.plan) || state.plan.length===0){
        state.plan = [];
        addPlanRow();
      }else{
        renderPlan();
      }

      // ideal day
      const id = document.getElementById("idealDay");
      if(id) id.value = state.idealDay || "";
    }catch(e){
      console.error(e);
    }
  }

  function resetAll(){
    if(!confirm("R√©initialiser tout ?")) return;
    localStorage.removeItem(LS_KEY);
    location.reload();
  }

  /* =========================
     EXPORT RESUME
  ========================= */
  function exportSummary(){
    state.likeList = document.getElementById("likeList").value;
    state.likeWhy = document.getElementById("likeWhy").value;
    state.idealDay = document.getElementById("idealDay").value;

    const summary = {
      "CE QUE J‚ÄôAIME FAIRE POURQUOI ?": {
        "Listez ce que vous aimez :": state.likeList,
        "Et qu‚Äôest-ce que vous aimez dans ces activit√©s ?": state.likeWhy
      },
      "CALCUL RESULTAT": {
        "Nombre total de A": state.totals.A,
        "Nombre total de B": state.totals.B,
        "Nombre total de C": state.totals.C,
        "Nombre total de D": state.totals.D,
        "Majorit√©": state.major,
        "Interpr√©tation": state.major ? resultsText[state.major] : ""
      },
      "LISTE DES CHOSES importantes pour Vous": {
        "S√©lections": state.valuesSelected,
        "Classement": state.valuesRank
      },
      "Exercice 4 : Cr√©ation d‚Äôune vision √† long terme": {
        "Imaginez votre journ√©e id√©ale au travail :": state.idealDay
      },
      "Plan d'action": state.plan
    };

    const blob = new Blob([JSON.stringify(summary, null, 2)], {type:"application/json"});
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = "resume-vibrer.json";
    a.click();
    URL.revokeObjectURL(url);
  }

  /* =========================
     Wire UI buttons
  ========================= */
  document.getElementById("next0").addEventListener("click", ()=>go(1));
  document.getElementById("btnCalcAD").addEventListener("click", ()=>{ calcAD(); go(2); });
  document.getElementById("next2").addEventListener("click", ()=>go(3));
  document.getElementById("back2").addEventListener("click", ()=>go(1));

  document.getElementById("next3").addEventListener("click", ()=>go(4));
  document.getElementById("back3").addEventListener("click", ()=>go(2));

  document.getElementById("next4").addEventListener("click", ()=>go(5));
  document.getElementById("back4").addEventListener("click", ()=>go(3));

  document.getElementById("back5").addEventListener("click", ()=>go(4));
  document.getElementById("btnExport").addEventListener("click", exportSummary);

  document.getElementById("btnSave").addEventListener("click", ()=>autosave(true));
  document.getElementById("btnReset").addEventListener("click", resetAll);

  document.getElementById("addRow").addEventListener("click", ()=>addPlanRow());

  /* =========================
     Init
  ========================= */
  renderStepChips();
  renderQuizAD();
  renderValues();

  // init plan with 3 empty rows by d√©faut
  addPlanRow();
  addPlanRow();
  addPlanRow();

  // load saved state if exists
  load();

  // keep ideal day synced after load
  const id = document.getElementById("idealDay");
  if(id){
    id.addEventListener("input", ()=>autosave(false));
  }

  // start
  go(0);
</script>
</body>
</html>

